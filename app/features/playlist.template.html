<div class="container">
    <div id="msg-screen" ng-show="pc.screenMsg">
        <div id="msg-progress" ng-style="{ width: pc.percentFilesLoaded + '%' }"></div>
        <div id="msg-screen-msg">{{ pc.screenMsg }}</div>
    </div>
    <div id="file-dialogs" ng-hide="player.playlist.length">
        <div ng-click="pc.openDialog('files')">
            <i class="ion-ios-paper-outline"></i>
            <br /> Open Files
        </div>
        <div ng-click="pc.openDialog('folder')">
            <i class="ion-ios-folder-outline"></i>
            <br /> Open Folder
        </div>
        <div ng-click="pc.showPlaylistMenu = !pc.showPlaylistMenu" ng-if="pc.savedPlaylists.length">
            <i class="ion-ios-list-outline"></i>
            <br /> Open Playlist
        </div>
    </div>

    <div id="player-container" ng-show="player.playlist.length">
        <div id="player-cover" ng-click="player.togglePlayPause()">
            <img ng-src="{{ player.currentImage }}" ng-show="player.currentImage" />
            <i class="ion-disc" ng-show="!player.currentImage"></i>
        </div>
        <div id="player-items">

            <div id="player-controls">
                <a ng-class="{ 
                    'ion-ios-play-outline': player.paused || !player.nowPlaying, 
                    'ion-ios-pause-outline': player.nowPlaying && !player.paused
                }" ng-click="player.togglePlayPause()"></a>
                <a class="ion-ios-rewind-outline" ng-click="player.rw()"></a>
                <a class="ion-ios-fastforward-outline" ng-click="player.ff()"></a>
                <div id="playlist-mods">
                    <a class="ion-ios-paper-outline" ng-click="pc.openDialog('files')" title="Open File(s)"></a>
                    <a class="ion-ios-folder-outline" ng-click="pc.openDialog('folder')" title="Open Folder"></a>
                    <a class="ion-ios-plus-empty" ng-click="pc.showPlaylistDialog = true" title="Save Playlist"></a>
                    <a class="ion-ios-list-outline" ng-click="pc.showPlaylistMenu = !pc.showPlaylistMenu" ng-if="pc.savedPlaylists.length" title="Open Playlist"></a>
                    <a class="ion-ios-close-outline" ng-click="pc.clearPlaylist()" title="Clear Playlist"></a>
                </div>
            </div>

            <div id="playlist-labels">
                <span class="track-header track-title">Title</span>
                <span class="track-header track-album">Album</span>
                <span class="track-header track-artist">Artist</span>
            </div>

            <div id="playlist">
                <ul as-sortable="pc.getSortListeners()" ng-model="player.playlist">
                    <li ng-repeat="item in player.playlist" 
                        ng-class="{ 
                            'playlist-playing': $index === player.currentIndex && player.nowPlaying, 
                            'playlist-cued': $index === player.focusedItem 
                        }" 
                        ng-click="pc.setFocusedItem($index, $event)"
                        ng-dblclick="player.play($index)"
                        as-sortable-item>
                        <div as-sortable-item-handle>
                            <span class="progress-container" 
                                ng-click="clientSeek($event)" 
                                ng-show="player.currentIndex === $index && player.nowPlaying">
                                <span class="progress-bar" ng-style="{ width: player.progressPercent + '%' }">
                                </span>
                            </span>
                            <span class="track-info track-title" title="{{ item.tags.title }}">{{ item.tags.title }}</span>
                            <span class="track-info track-album" title="{{ item.tags.album }}">{{ item.tags.album }}</span>
                            <span class="track-info track-artist" title="{{ item.tags.artist }}">{{ item.tags.artist }}</span>
                        </div>
                    </li>
                </ul>
            </div>

        </div>
    </div>

    <div id="saved-playlists" ng-show="pc.showPlaylistMenu">
        <div>
            <a href="#" ng-click="pc.showPlaylistMenu = false">
                <i class="ion-ios-arrow-thin-left"></i>
            </a>
        </div>
        <ul>
            <li ng-repeat="item in pc.savedPlaylists | orderBy: 'name'">
                <a href="#" ng-click="pc.loadPlaylist(item.key)">{{ item.name }}</a>
                <a href="#" ng-click="pc.deletePlaylist(item.key)" title='Delete "{{ item.name }}"'>
                    <i class="ion-ios-close-empty"></i>
                </a>
            </li>
        </ul>
    </div>

    <div id="save-dialog" ng-show="pc.showPlaylistDialog">
        <form name="savePlaylist" novalidate>
            <label for="playlist-name">Save playlist as</label>
            <input type="text" name="playlistName" id="playlistName" ng-model="pc.savePlaylistAs" required />
            <div ng-show="savePlaylist.playlistName.$touched && savePlaylist.playlistName.$error.required">Please enter a name</div>
            <button ng-click="pc.savePlaylist(pc.savePlaylistAs)" ng-disabled="savePlaylist.playlistName.$error.required">Save</button>
            <button ng-click="pc.showPlaylistDialog = false">Cancel</button>
        </form>
    </div>
</div>